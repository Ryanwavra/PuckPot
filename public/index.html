<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="global.css" />
    <link rel="stylesheet" href="index.css" />
  </head>

  <body>
    <div class="app-container">
      <main>
        <!--Header-->
        <section class="header-section">
          <div class="header">
            <div class="logo"><img src="/images/PuckPotLogo.png" /></div>
            <div class="connect"><button id="connect">Connect Wallet</button></div>
            <script src="/scripts/wallet.js" defer></script>
          </div>
        </section>

        <!--Countdown-->
        <section class="countdown-section">
          <div class="countdown">
            <div class="heading">PICKS LOCK IN:</div>
            <div class="countdown-content">
              <div class="time-block">
                <div id="hourCount">0</div>
                <div id="HRS">HRS</div>
              </div>
              <div class="time-block">
                <div id="minCount">0</div>
                <div id="MIN">MIN</div>
              </div>
              <div class="time-block">
                <div id="secCount">0</div>
                <div id="SEC">SEC</div>
              </div>
            </div>
          </div>
        </section>

        <!--Pot info-->
        <section class="pot-section">
          <div class="pot-info">
            <div class="title">$1 ENTRY FEE</div>
            <div class="total-pot"><span id="total-amount">$0.00</span> Total Pot</div>
            <div class="total-players"><span id="player-count">0</span> players already joined</div>
            <div class="description">
              Join the pot and guess which NHL teams will take the win home
              tonight.
            </div>
            <a href="picks.html" class="btn"><button>MAKE PICKS</button></a>
          </div>
        </section>

        <!--How it works-->
        <section class="how-it-works-section">
          <div class="how-it-works">
            <div class="title">HOW IT WORKS</div>
            <div class="rules-list">
              <ol>
                <li>Pick winners for all games today</li>
                <li>Pay entry fee in USDC on Base</li>
                <li>Picks lock prior to first puck drop</li>
                <li>Winner takes the pot</li>
              </ol>
            </div>
          </div>
        </section>
      </main>
      <!--Footer-->
      <footer class="footer">
        <div class="home">
          <div class="home-icon svg">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="16"
              height="16"
              fill="currentColor"
              class="bi bi-house-door"
              viewBox="0 0 16 16"
            >
              <path
                d="M8.354 1.146a.5.5 0 0 0-.708 0l-6 6A.5.5 0 0 0 1.5 7.5v7a.5.5 0 0 0 .5.5h4.5a.5.5 0 0 0 .5-.5v-4h2v4a.5.5 0 0 0 .5.5H14a.5.5 0 0 0 .5-.5v-7a.5.5 0 0 0-.146-.354L13 5.793V2.5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v1.293zM2.5 14V7.707l5.5-5.5 5.5 5.5V14H10v-4a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 0-.5.5v4z"
              />
            </svg>
          </div>
          <div class="home-word">Home</div>
        </div>
        <a href="picks.html" class="picks">
            <div class="picks-icon svg">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="16"
                height="16"
                fill="currentColor"
                class="bi bi-bullseye"
                viewBox="0 0 16 16"
              >
                <path
                  d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"
                />
                <path
                  d="M8 13A5 5 0 1 1 8 3a5 5 0 0 1 0 10m0 1A6 6 0 1 0 8 2a6 6 0 0 0 0 12"
                />
                <path
                  d="M8 11a3 3 0 1 1 0-6 3 3 0 0 1 0 6m0 1a4 4 0 1 0 0-8 4 4 0 0 0 0 8"
                />
                <path d="M9.5 8a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0" />
              </svg>
            </div>
            <div class="picks-word">Picks</div>
        </a>
        <a href="rankingsbeta.html" class="rankings">
          <div class="rankings-icon svg">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="16"
              height="16"
              fill="currentColor"
              class="bi bi-trophy"
              viewBox="0 0 16 16"
            >
              <path
                d="M2.5.5A.5.5 0 0 1 3 0h10a.5.5 0 0 1 .5.5q0 .807-.034 1.536a3 3 0 1 1-1.133 5.89c-.79 1.865-1.878 2.777-2.833 3.011v2.173l1.425.356c.194.048.377.135.537.255L13.3 15.1a.5.5 0 0 1-.3.9H3a.5.5 0 0 1-.3-.9l1.838-1.379c.16-.12.343-.207.537-.255L6.5 13.11v-2.173c-.955-.234-2.043-1.146-2.833-3.012a3 3 0 1 1-1.132-5.89A33 33 0 0 1 2.5.5m.099 2.54a2 2 0 0 0 .72 3.935c-.333-1.05-.588-2.346-.72-3.935m10.083 3.935a2 2 0 0 0 .72-3.935c-.133 1.59-.388 2.885-.72 3.935M3.504 1q.01.775.056 1.469c.13 2.028.457 3.546.87 4.667C5.294 9.48 6.484 10 7 10a.5.5 0 0 1 .5.5v2.61a1 1 0 0 1-.757.97l-1.426.356a.5.5 0 0 0-.179.085L4.5 15h7l-.638-.479a.5.5 0 0 0-.18-.085l-1.425-.356a1 1 0 0 1-.757-.97V10.5A.5.5 0 0 1 9 10c.516 0 1.706-.52 2.57-2.864.413-1.12.74-2.64.87-4.667q.045-.694.056-1.469z"
              />
            </svg>
          </div>
          <div class="rankings-word">Rankings</div>
        </a>
        <a href="profilebeta.html" class="profile">
          <div class="profile-icon svg">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="16"
              height="16"
              fill="currentColor"
              class="bi bi-person"
              viewBox="0 0 16 16"
            >
              <path
                d="M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6m2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0m4 8c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4m-1-.004c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10s-3.516.68-4.168 1.332c-.678.678-.83 1.418-.832 1.664z"
              />
            </svg>
          </div>
          <div class="profile-word">Profile</div>
        </a>
      </footer>
    </div>
    <script src="/scripts/countdown.js"></script>
<script src="/scripts/contestStats.js"></script>
<script>
  fetch("/api/games")
    .then(res => res.json())
    .then(data => {
      console.log("Games API response (index):", data);

      // Start countdown
      if (data.lock_time) {
        initCountdown(data.lock_time, data.reset_time);
      }

      // Start contest stats updater
      if (data.contestId && window.initContestStats) {
        window.initContestStats(data.contestId);
      }
    })
    .catch(err => console.error("Error loading contest data:", err));
</script>


  </body>
</html>
